    useEffect(() => {
        const fadeOut = (): void => {
            if (testRef.current && testRef.current.classList.contains('w3-animate-show') && !loginFormMounted) {
                console.warn('Runned fade out animation')
                testRef.current.style.display = 'none';
                testRef.current.classList.remove('w3-animate-show');
            }
        }

        testRef.current?.addEventListener('animationend', fadeOut);

        return () => {
            testRef.current?.removeEventListener('animationend', fadeOut);
        }
    }, []);

    useEffect(() => {
        console.log(loginFormMounted)
        if (loginFormMounted) {
            testRef.current!.style.display = 'block';
        }
    }, [loginFormMounted])

    return (
        <div ref={testRef} className={loginFormMounted ? 'w3-animate-opacity' : 'w3-animate-opacity w3-animate-show'}>
            <section ref={wrapperRef}  className='splashlayout__loginform'>
                cczczczxxzcx
            </section>
        </div>
    );


.w3-animate-opacity {
    display: none;
    animation: opac 0.8s;
    position: fixed;
    z-index: 1;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.479);
  }
  
  @keyframes opac {
    from {
      opacity: 0
    }
    to {
      opacity: 1
    }
  }
  
  .w3-animate-show {
    animation: show 1s;
    animation-fill-mode: forwards;
  }
  
  @keyframes show {
    from {
      opacity: 1
    }
    to {
      opacity: 0
    }
  }
